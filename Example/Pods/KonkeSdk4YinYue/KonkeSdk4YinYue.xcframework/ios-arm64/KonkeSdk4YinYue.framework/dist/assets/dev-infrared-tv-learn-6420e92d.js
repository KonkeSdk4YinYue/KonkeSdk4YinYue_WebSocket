import{_ as k,c as y,b as i,a as t,n as l,w as v,o as g,p,d as C,e as I}from"./_plugin-vue_export-helper-4f5b7d1e.js";import"./index-bf3f378e.js";/* empty css              *//* empty css              */import{_ as b}from"./sure-alert-one-73a85f24.js";import{_ as L}from"./nav-bar-1594fc52.js";import{_ as B}from"./sure-alert-14ff736e.js";import{n as w,a as V,d as N,b as S}from"./api-308b1525.js";import{g as x}from"./urlparse-f25d0f77.js";import{_ as D,a as P,b as R,c as O,d as j,e as _,f as u,g as E,h as T,i as U}from"./ic_tv_back-276f1aa2.js";import{_ as A}from"./ic_tv_on-d8b22e33.js";import{a as c}from"./function-call-4776fd23.js";import{P as K}from"./index-fb04ff69.js";/* empty css              */import"./index-e93e7391.js";import"./use-route-2687c77d.js";import"./index-a604daa8.js";import"./use-touch-6a5c47ae.js";const H={components:{SureAlert:B},data(){return{devId:-1,userDevice:{},hasLearnButton:[],learnDialogShow:!1,curLearnCode:0,keyList:[{keyId:0,keyName:"POWER",keyValue:"1",learned:!1},{keyId:0,keyName:"CH-",keyValue:"2",learned:!1},{keyId:0,keyName:"CH+",keyValue:"3",learned:!1},{keyId:0,keyName:"VOL-",keyValue:"4",learned:!1},{keyId:0,keyName:"VOL+",keyValue:"5",learned:!1},{keyId:0,keyName:"LEFT",keyValue:"42",learned:!1},{keyId:0,keyName:"UP",keyValue:"43",learned:!1},{keyId:0,keyName:"RIGHT",keyValue:"44",learned:!1},{keyId:0,keyName:"Ok",keyValue:"45",learned:!1},{keyId:0,keyName:"DOWN",keyValue:"46",learned:!1},{keyId:0,keyName:"MENU",keyValue:"23",learned:!1},{keyId:0,keyName:"BACK",keyValue:"55",learned:!1}]}},mounted(){this.getUrlParams(),window.__eventBus.on("learnCodeNotify",n=>{console.log("on",n);const e=n.extension.currentNode;console.log("keyValue 判断",e.keyValue,this.curLearnCode,e.keyValue!=this.curLearnCode),console.log("learnSuccess 判断",e.learnSuccess,e.learnSuccess=="true"),e.keyValue+""==this.curLearnCode&&e.learnSuccess=="true"&&(this.onLearnCancel(),this.saveCode(this.curLearnCode))})},methods:{hasIncluedeButton(n){return this.hasLearnButton.includes(n)},getUrlParams(){let n=window.location.search;const e=x(n);console.log(e),e!=null&&"devId"in e&&(this.devId=e.devId,console.log(this.devId)),e!=null&&"type"in e&&(this.type=e.type),e!=null&&"brandId"in e&&(this.brandId=e.brandId),e!=null&&"nodeId"in e&&(this.nodeId=e.nodeId),this.getLearnedButton()},onClickLeft(){window.__jsb.pop()},learnCode(n){w(this.devId,this.nodeId,n).then(e=>{this.learnDialogShow=!0,this.curLearnCode=n}).catch(e=>{c(e)})},onLearnCancel(){this.learnDialogShow=!1},saveCode(n){V(this.devId,this.nodeId,n).then(e=>{this.hasLearnButton.push(n),this.keyList.forEach(d=>{d.keyValue==n&&(d.learned=!0)})})},getLearnedButton(){N(this.devId).then(n=>{console.log(n),this.keyList.length==n.data.remoterKeysList.length&&(this.keyList=n.data.remoterKeysList),this.keyList.forEach(e=>{e.learned&&!this.hasLearnButton.includes(parseInt(e.keyValue))&&this.hasLearnButton.push(parseInt(e.keyValue))})}).catch(n=>{console.log("getrc ",n)})},onClickRight(){if(this.keyList.length==0){c("最少学习一个按钮");return}S(this.devId,this.nodeId,this.keyList).then(n=>{console.log(n);const e={};e.rcType=this.type,e.codeType="self",e.keyList=this.keyList,window.__jsb.forwardEvent({eventName:"infraredLibCode",eventData:JSON.stringify(e),fromPage:"dev-infrared-tv-learn",toPage:"dev-infrared-edit"}),window.__jsb.pop({route:"dev-infrared-edit"})})}}},o=n=>(p("data-v-d4ee69a0"),n=n(),C(),n),W={class:"home"},z={class:"content"},F=o(()=>t("img",{class:"img",src:D},null,-1)),G={class:"round"},J=o(()=>t("img",{src:P},null,-1)),M=[J],q={class:"rightandleft"},Q=o(()=>t("img",{src:R},null,-1)),X=[Q],Y=o(()=>t("img",{src:O},null,-1)),Z=[Y],$=o(()=>t("img",{src:j},null,-1)),ee=[$],te={class:"channel_sound"},se={class:"channel"},ne=o(()=>t("img",{src:_},null,-1)),oe=[ne],ae=o(()=>t("div",{class:"channel_hint"},"频道",-1)),le=o(()=>t("img",{src:u},null,-1)),de=[le],ie={class:"sound"},re=o(()=>t("img",{src:_},null,-1)),ce=[re],_e=o(()=>t("div",{class:"channel_hint"},"音量",-1)),ue=o(()=>t("img",{src:u},null,-1)),fe=[ue],he={class:"bottom"},me={class:"bottom_main"},ke=o(()=>t("img",{class:"bottom_img",src:A},null,-1)),ye=o(()=>t("div",{class:"bottom_tv"},"开关",-1)),ve=[ke,ye],ge=o(()=>t("img",{class:"bottom_img",src:E},null,-1)),pe=o(()=>t("div",{class:"bottom_tv"},"菜单",-1)),Ce=[ge,pe],Ie=o(()=>t("img",{class:"bottom_img",src:T},null,-1)),be=o(()=>t("div",{class:"bottom_tv"},"确定",-1)),Le=[Ie,be],Be=o(()=>t("img",{class:"bottom_img",src:U},null,-1)),we=o(()=>t("div",{class:"bottom_tv"},"返回",-1)),Ve=[Be,we];function Ne(n,e,d,xe,r,s){const f=L,h=b,m=K;return g(),y("div",W,[i(f,{class:"nav_bar",title:"红外学习","right-text":"保存",onClickRight:s.onClickRight,onClickLeft:s.onClickLeft},null,8,["onClickRight","onClickLeft"]),t("div",z,[F,t("div",G,[t("div",{class:"icon1",style:l({background:s.hasIncluedeButton(43)?"#f4f4f4":"#a19f9f"}),onClick:e[0]||(e[0]=a=>s.learnCode(43))},M,4),t("div",q,[t("div",{class:"left_icon",style:l({background:s.hasIncluedeButton(42)?"#f4f4f4":"#a19f9f"}),onClick:e[1]||(e[1]=a=>s.learnCode(42))},X,4),t("div",{class:"right_icon",style:l({background:s.hasIncluedeButton(44)?"#f4f4f4":"#a19f9f"}),onClick:e[2]||(e[2]=a=>s.learnCode(44))},Z,4)]),t("div",{class:"bottom_icon",style:l({background:s.hasIncluedeButton(46)?"#f4f4f4":"#a19f9f"}),onClick:e[3]||(e[3]=a=>s.learnCode(46))},ee,4)]),t("div",te,[t("div",se,[t("div",{class:"channel_add",style:l({background:s.hasIncluedeButton(3)?"#f4f4f4":"#a19f9f"}),onClick:e[4]||(e[4]=a=>s.learnCode(3))},oe,4),ae,t("div",{class:"channel_sub",style:l({background:s.hasIncluedeButton(2)?"#f4f4f4":"#a19f9f"}),onClick:e[5]||(e[5]=a=>s.learnCode(2))},de,4)]),t("div",ie,[t("div",{class:"channel_add",style:l({background:s.hasIncluedeButton(5)?"#f4f4f4":"#a19f9f"}),onClick:e[6]||(e[6]=a=>s.learnCode(5))},ce,4),_e,t("div",{class:"channel_sub",style:l({background:s.hasIncluedeButton(4)?"#f4f4f4":"#a19f9f"}),onClick:e[7]||(e[7]=a=>s.learnCode(4))},fe,4)])])]),t("div",he,[t("div",me,[t("div",{class:"div_line_1",style:l({background:s.hasIncluedeButton(1)?"#f4f4f4":"#a19f9f"}),onClick:e[8]||(e[8]=a=>s.learnCode(1))},ve,4),t("div",{class:"div_line_2",style:l({background:s.hasIncluedeButton(23)?"#f4f4f4":"#a19f9f"}),onClick:e[9]||(e[9]=a=>s.learnCode(23))},Ce,4),t("div",{class:"div_line_3",style:l({background:s.hasIncluedeButton(45)?"#f4f4f4":"#a19f9f"}),onClick:e[10]||(e[10]=a=>s.learnCode(45))},Le,4),t("div",{class:"div_line_4",style:l({background:s.hasIncluedeButton(55)?"#f4f4f4":"#a19f9f"}),onClick:e[11]||(e[11]=a=>s.learnCode(55))},Ve,4)])]),i(m,{show:r.learnDialogShow,"onUpdate:show":e[12]||(e[12]=a=>r.learnDialogShow=a),round:"",position:"center",style:{paddingLeft:"64px",paddingRight:"64px"}},{default:v(()=>[i(h,{text:"请使用电视遥控器面对红外遥控器按下该按钮",cancelText:"取消学习",onOnCancal:s.onLearnCancel},null,8,["onOnCancal"])]),_:1},8,["show"])])}const Se=k(H,[["render",Ne],["__scopeId","data-v-d4ee69a0"]]);I(Se).mount("#root");
