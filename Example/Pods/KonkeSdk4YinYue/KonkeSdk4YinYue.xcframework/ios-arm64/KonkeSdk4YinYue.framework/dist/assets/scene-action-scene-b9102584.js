import{_ as w,o as a,c as l,a as s,F as p,r as f,t as v,b as i,w as u,j as O,p as x,d as T,g as b,v as A,l as y,e as P}from"./_plugin-vue_export-helper-4f5b7d1e.js";import"./index-bf3f378e.js";/* empty css              *//* empty css              */import{T as V,a as j}from"./index-284dcd17.js";import{_ as N}from"./nav-bar-1594fc52.js";import{C as M,a as R}from"./index-ebd2fbba.js";import{C as E}from"./index-6a50b8f9.js";import{C as U}from"./index-e990ab3d.js";import"./index-b5a1cd1d.js";/* empty css              */import{T as B}from"./index-3b5238ca.js";import{a as F}from"./function-call-4776fd23.js";import{s as L}from"./api-308b1525.js";import{g as G}from"./urlparse-f25d0f77.js";import{_ as D}from"./ic_scene1-0f866639.js";import{P as J}from"./index-fb04ff69.js";import"./use-id-30d68b53.js";import"./use-touch-6a5c47ae.js";import"./use-route-2687c77d.js";import"./index-a604daa8.js";const Y={name:"SceneActionAutoScene",props:{scene:{}},data(){return{list:[{name:"打开",action:"TurnOnScene"},{name:"关闭",action:"TurnOffScene"}]}},mounted(){},methods:{onClickLeft(){this.$emit("onCancal","")},onClickRight(e){console.log("checked",this.checked),this.$emit("onConfirm",this.scene,e)}}},K={class:"demo-component"},q={class:"btn_list"};function z(e,t,r,_,n,c){return a(),l("div",K,[s("div",q,[(a(!0),l(p,null,f(n.list,m=>(a(),l("div",{class:"btn_item",onClick:t[0]||(t[0]=(...d)=>c.onClickRight&&c.onClickRight(...d))},v(m.name),1))),256))]),s("div",{class:"btn_cancel",onClick:t[1]||(t[1]=(...m)=>c.onClickLeft&&c.onClickLeft(...m))}," 取消 ")])}const H=w(Y,[["render",z],["__scopeId","data-v-8a21e102"]]);const Q={name:"SceneActionLight",props:{scene:{}},data(){return{columnsType:["minute","second"],currentTime:["00","00"],formatter:(_,n)=>(_==="hour"?n.text+="时":_==="minute"?n.text+="分":n.text+="秒",n),seldata:"00:00",checked:["ExecuteScene"],list:[{name:"打开",action:"ExecuteScene"}],deley:0}},mounted(){},methods:{onClickLeft(){this.$emit("onCancal","")},onClickRight(){if(console.log("checked",this.checked),this.checked.length==0){F("必须选择一个动作");return}this.$emit("onConfirm",this.scene,this.checked[0],this.deley)},toggle(e,t){this.checked.splice(0,this.checked.length),this.checked.push(t),console.log(this.checked)},onTimeChange(e){this.seldata=e.selectedValues[0]+":"+e.selectedValues[1],this.deley=e.selectedValues[0]*60+e.selectedValues[1]}}},W=e=>(x("data-v-420efa06"),e=e(),T(),e),X={class:"demo-component"},Z={class:"time_sel_bg"},$={class:"time_show_line"},ee=W(()=>s("span",{class:"time_show_line_hint"}," 延迟时间 ",-1)),ne={class:"time_show_line_time"},te={class:"time_sel"},oe={class:"time_sel_child"},se={class:"action_list"};function ce(e,t,r,_,n,c){const m=N,d=B,C=M,g=U,h=E,k=R;return a(),l("div",X,[i(m,{class:"nav_bar",title:"选择动作","left-text":"取消","right-text":"确定",onClickRight:c.onClickRight,fixed:!1,onClickLeft:c.onClickLeft},null,8,["onClickRight","onClickLeft"]),s("div",Z,[s("div",$,[ee,s("span",ne,v(n.seldata),1)]),s("div",te,[s("div",oe,[i(d,{"option-height":35,"visible-option-num":3,"show-toolbar":!1,modelValue:n.currentTime,"onUpdate:modelValue":t[0]||(t[0]=o=>n.currentTime=o),formatter:n.formatter,title:"选择时间","columns-type":n.columnsType,onChange:c.onTimeChange},null,8,["modelValue","formatter","columns-type","onChange"])])])]),s("div",se,[i(k,{modelValue:n.checked,"onUpdate:modelValue":t[1]||(t[1]=o=>n.checked=o)},{default:u(()=>[i(h,{inset:""},{default:u(()=>[(a(!0),l(p,null,f(n.list,(o,S)=>(a(),O(g,{clickable:"",key:o,title:o.name,onClick:ke=>c.toggle(S,o.action)},{"right-icon":u(()=>[i(C,{name:o.action},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])])])}const ie=w(Q,[["render",ce],["__scopeId","data-v-420efa06"]]);const ae={name:"KonkeSdk4YinYueSrcApp",components:{SceneActionScene:ie,SceneActionAutoScene:H},data(){return{active:0,sceneManualList:[],sceneAutoList:[],scene_auto_show:!1,scene_show:!1,scene:{},auto_scene:{},type:""}},mounted(){this.getManualList(),this.getAutoList(),this.getParams()},methods:{onClickLeft(){window.__jsb.pop()},getParams(){let e=window.location.search;const t=G(e);t!=null&&"type"in t&&(this.type=t.type)},selManualScene(e){this.scene_show=!0,this.scene=e},selAutoScene(e){this.scene_auto_show=!0,this.auto_scene=e},getManualList(){L(!0).then(e=>{this.sceneManualList=e.data.sceneList}).catch(e=>console.log(e))},getAutoList(){L(!1).then(e=>{this.sceneAutoList=e.data.sceneList}).catch(e=>console.log(e))},onAutoSceneSelConfirm(e,t){this.scene_auto_show=!1;let r={sceneId:e.sceneId+"",sceneName:e.sceneName};const _={actionType:"Scene",delayTime:0,inner:!1,userDeviceId:null,actionName:t,extension:r};window.__jsb.forwardEvent({eventName:"addDevAction",eventData:JSON.stringify(_),fromPage:"scene-action-scene",toPage:"scene-manual"}),window.__jsb.pop({route:"scene-manual"})},onAutoSceneSelCancel(){this.scene_auto_show=!1},onSceneSelConfirm(e,t,r){this.scene_auto_show=!1;let _={sceneId:e.sceneId+"",sceneName:e.sceneName};const n={actionType:"Scene",delayTime:r,inner:!1,userDeviceId:null,actionName:t,extension:_};window.__jsb.forwardEvent({eventName:"pop",eventData:"",fromPage:"scene-action-scene",toPage:"scene-action-type"}),window.__jsb.forwardEvent({eventName:"addDevAction",eventData:JSON.stringify(n),fromPage:"scene-action-scene",toPage:"scene-manual"}),window.__jsb.pop(),this.scene_show=!1},onSceneSelCancel(){this.scene_show=!1}}},I=e=>(x("data-v-b65e8a88"),e=e(),T(),e),le={class:"home"},_e={class:"tab_line"},re={class:"scene_list"},me=["onClick"],de=I(()=>s("div",{class:"scene_img"},[s("img",{src:D})],-1)),ue={class:"scene_name"},he={class:"scene_list"},pe=["onClick"],fe=I(()=>s("div",{class:"scene_img"},[s("img",{src:D})],-1)),ve={class:"scene_name"};function Ce(e,t,r,_,n,c){const m=N,d=j,C=V,g=y("SceneActionScene"),h=J,k=y("SceneActionAutoScene");return a(),l("div",le,[i(m,{class:"nav_bar",title:"选择场景",onClickLeft:c.onClickLeft},null,8,["onClickLeft"]),s("div",_e,[i(C,{active:n.active,"onUpdate:active":t[0]||(t[0]=o=>n.active=o),color:"#FD7D28","title-active-color":"#FD7D28","title-inactive-color":"#666666",sticky:"",animated:"",shrink:""},{default:u(()=>[i(d,{title:"手动场景",name:"0"}),i(d,{title:"自动场景",name:"1"})]),_:1},8,["active"])]),(a(!0),l(p,null,f(n.sceneManualList,o=>b((a(),l("div",re,[s("div",{class:"scene_item",onClick:S=>c.selManualScene(o)},[de,s("div",null,[s("span",ue,v(o.sceneName),1)])],8,me)],512)),[[A,n.active==0]])),256)),(a(!0),l(p,null,f(n.sceneAutoList,o=>b((a(),l("div",he,[s("div",{class:"scene_item",onClick:S=>c.selAutoScene(o)},[fe,s("div",null,[s("span",ve,v(o.sceneName),1)])],8,pe)],512)),[[A,n.active==1]])),256)),i(h,{show:n.scene_show,"onUpdate:show":t[1]||(t[1]=o=>n.scene_show=o),position:"bottom"},{default:u(()=>[i(g,{scene:n.scene,onOnCancal:c.onSceneSelCancel,onOnConfirm:c.onSceneSelConfirm},null,8,["scene","onOnCancal","onOnConfirm"])]),_:1},8,["show"]),i(h,{show:n.scene_auto_show,"onUpdate:show":t[2]||(t[2]=o=>n.scene_auto_show=o),position:"bottom",round:"",overlay:""},{default:u(()=>[i(k,{scene:n.auto_scene,onOnCancal:c.onAutoSceneSelCancel,onOnConfirm:c.onAutoSceneSelConfirm},null,8,["scene","onOnCancal","onOnConfirm"])]),_:1},8,["show"])])}const ge=w(ae,[["render",Ce],["__scopeId","data-v-b65e8a88"]]);P(ge).mount("#root");
