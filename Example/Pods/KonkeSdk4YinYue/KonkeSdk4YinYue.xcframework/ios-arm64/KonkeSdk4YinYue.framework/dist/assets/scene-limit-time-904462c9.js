import{_ as k,c as m,b as _,a as t,t as p,F as f,r as w,w as T,o as d,n as v,p as C,d as S,e as g}from"./_plugin-vue_export-helper-4f5b7d1e.js";import"./index-bf3f378e.js";/* empty css              *//* empty css              *//* empty css              */import"./index-284dcd17.js";import{T as y}from"./index-3b5238ca.js";import{_ as b}from"./nav-bar-1594fc52.js";import{P as W}from"./index-fb04ff69.js";import"./use-id-30d68b53.js";import"./use-touch-6a5c47ae.js";import"./use-route-2687c77d.js";import"./index-a604daa8.js";const V={name:"KonkeSdk4YinYueSrcApp",data(){return{columnsType:["hour","minute"],currentTime:["00","00"],startTime:"00:00",endTime:"00:00",weeks:["周日","周一","周二","周三","周四","周五","周六"],selWeeks:[],show:!1,isSelStart:!0}},mounted(){window.__eventBus.on("pop",e=>{console.log("_eventBus.on"),window.__jsb.pop()})},methods:{onClickLeft(){window.__jsb.pop()},onClickRight(){let e=this.startTime.split(":"),s=this.endTime.split(":");const c=e[0]*3600+e[1]*60,a=s[0]*3600+s[1]*60,o={周日:"sun",周一:"mon",周二:"tue",周三:"wed",周四:"thu",周五:"fri",周六:"sat"},n={start:c,end:a,fri:!1,mon:!1,sat:!1,sun:!1,thu:!1,tue:!1,wed:!1,userDeviceId:null,triggerType:"Cycle",logic:"And"};this.selWeeks.forEach(r=>{n[o[r]]=!0}),this.callbackParams(n)},callbackParams(e){console.log("schedule",e),window.__jsb.forwardEvent({eventName:"addLimitSchedule",eventData:JSON.stringify(e),fromPage:"scene-limit-time",toPage:"scene-auto"}),window.__jsb.pop({route:"scene-auto"})},clickStartTime(){this.show=!0,this.isSelStart=!0},clickEndTime(){this.show=!0,this.isSelStart=!1},onConfirm(e){this.show=!1,this.isSelStart?this.startTime=e.selectedValues[0]+":"+e.selectedValues[1]:this.endTime=e.selectedValues[0]+":"+e.selectedValues[1]},onCancel(){this.show=!1},clickWeekItem(e){this.selWeeks.includes(e)?this.selWeeks=this.selWeeks.filter(s=>s!=e):this.selWeeks.push(e)}}},l=e=>(C("data-v-797430ea"),e=e(),S(),e),E={class:"home"},F=l(()=>t("div",{class:"time_hint"},[t("span",null,"触发时间")],-1)),I=l(()=>t("span",{class:"type_name"},"开始时间",-1)),P={class:"icon_out"},D={class:"start_time"},L=l(()=>t("span",{class:"type_name"},"结束时间",-1)),x={class:"icon_out"},A={class:"start_time"},B=l(()=>t("div",{class:"cycle_hint"},[t("span",null,"重复周期")],-1)),j={class:"cycle_weeks"},N=["onClick"];function R(e,s,c,a,o,n){const r=b,u=y,h=W;return d(),m("div",E,[_(r,{class:"nav_bar",title:"时间","right-text":"保存",onClickRight:n.onClickRight,onClickLeft:n.onClickLeft},null,8,["onClickRight","onClickLeft"]),F,t("div",{class:"room_item",onClick:s[0]||(s[0]=(...i)=>n.clickStartTime&&n.clickStartTime(...i))},[I,t("div",P,[t("span",D,p(o.startTime),1)])]),t("div",{class:"room_item",onClick:s[1]||(s[1]=(...i)=>n.clickEndTime&&n.clickEndTime(...i))},[L,t("div",x,[t("span",A,p(o.endTime),1)])]),B,t("div",j,[(d(!0),m(f,null,w(o.weeks,i=>(d(),m("div",{class:"week",onClick:Y=>n.clickWeekItem(i),style:v({background:o.selWeeks.includes(i)?"#FFE8D9":"#F5F5F5",color:o.selWeeks.includes(i)?"#FD7D28":"#444444"})},p(i),13,N))),256))]),_(h,{show:o.show,"onUpdate:show":s[3]||(s[3]=i=>o.show=i),position:"bottom",style:{height:"30%"}},{default:T(()=>[_(u,{"option-height":35,"visible-option-num":5,modelValue:o.currentTime,"onUpdate:modelValue":s[2]||(s[2]=i=>o.currentTime=i),title:"选择时间","columns-type":o.columnsType,onConfirm:n.onConfirm,onCancel:n.onCancel},null,8,["modelValue","columns-type","onConfirm","onCancel"])]),_:1},8,["show"])])}const U=k(V,[["render",R],["__scopeId","data-v-797430ea"]]);g(U).mount("#root");
