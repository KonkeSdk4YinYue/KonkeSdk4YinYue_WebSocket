import{_ as w,c as k,b as i,a as s,t as v,o as f,p as b,d as I,e as T}from"./_plugin-vue_export-helper-4f5b7d1e.js";import{I as L}from"./index-bf3f378e.js";import{I as j}from"./index-0a47a617.js";import{_ as C}from"./nav-bar-1594fc52.js";import{Z as u,$ as y}from"./api-308b1525.js";import{a as p}from"./function-call-4776fd23.js";import"./use-touch-6a5c47ae.js";import"./index-fb04ff69.js";import"./index-a604daa8.js";const S=""+new URL("ic_edit_name-b877069b.svg",import.meta.url).href;const x={name:"KonkeSdk4YinYueSrcApp",data(){return{userHeader:"",userToken:{}}},mounted(){window.__eventBus.on("reload",o=>{window.__jsb.getLoginUserInfo().then(e=>{var n,a;this.userToken=e.userToken,this.userHeader=u+((a=(n=this.userToken)==null?void 0:n.user)==null?void 0:a.avatar),console.log(this.userToken)}).catch(e=>{p(e)})}),window.__jsb.getLoginUserInfo().then(o=>{var e,n;this.userToken=o.userToken,this.userHeader=u+((n=(e=this.userToken)==null?void 0:e.user)==null?void 0:n.avatar),console.log(this.userToken)}).catch(o=>{p(o)})},methods:{onClickLeft(){window.__jsb.pop()},async logout(){try{await y()}catch(o){console.log(o)}finally{window.__jsb.setLoginUserInfo(null),window.__jsb.replace({route:"login"})}},toForgetPwd(){window.__jsb.push({route:"forgetpassword"})},toEditName(){window.__jsb.push({route:"user-editnickname"})}}},c=o=>(b("data-v-0c37a8ea"),o=o(),I(),o),B={class:"home"},N={class:"user"},U={class:"user_header"},A={class:"user_nickname"},E=c(()=>s("div",{class:"divider"},null,-1)),H=c(()=>s("span",{class:"change_pwd_hint"}," 修改密码",-1)),F=c(()=>s("div",{class:"divider"},null,-1));function P(o,e,n,a,_,t){var d,l;const m=C,h=j,g=L;return f(),k("div",B,[i(m,{class:"nav_bar",title:"我的",onClickLeft:t.onClickLeft},null,8,["onClickLeft"]),s("div",N,[s("div",U,[i(h,{width:"70px",height:"70px",src:_.userHeader},null,8,["src"])]),s("div",A,v((l=(d=_.userToken)==null?void 0:d.user)==null?void 0:l.nickname),1),s("img",{class:"user_nickname_edit",src:S,onClick:e[0]||(e[0]=(...r)=>t.toEditName&&t.toEditName(...r))})]),E,s("div",{class:"change_pwd",onClick:e[1]||(e[1]=(...r)=>t.toForgetPwd&&t.toForgetPwd(...r))},[H,i(g,{class:"right",name:"arrow"})]),F,s("div",{class:"login_out",onClick:e[2]||(e[2]=(...r)=>t.logout&&t.logout(...r))},"退出登录")])}const V=w(x,[["render",P],["__scopeId","data-v-0c37a8ea"]]);T(V).mount("#root");
